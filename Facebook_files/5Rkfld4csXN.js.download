if (self.CavalryLogger) { CavalryLogger.start_js(["b4fQu"]); }

__d("StyleXSheet",["invariant","ExecutionEnvironment","Locale"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h="__fb-dark-mode";function i(a,b){var c=[];c.push(a+" {");for(var d in b){a=b[d];c.push("  --"+d+": "+a+";")}c.push("}");return c.join("\n")}function j(){var a=document.createElement("style");a.setAttribute("type","text/css");a.setAttribute("data-styled","true");var b=document.head||document.getElementsByTagName("head")[0];b||g(0,2655);b.appendChild(a);return a}function k(){return window.CSS!=null&&window.CSS.supports!=null&&window.CSS.supports("--fake-var","0")}var l=/var\(--(.*?)\)/g;a=function(){__p&&__p();function a(a){__p&&__p();var c;this.tag=null;this.injected=!1;this.ruleForPriority=new Map();this.rules=[];this.rootTheme=a.rootTheme;this.rootDarkTheme=a.rootDarkTheme;this.isSlow=(c=a.isSlow)!=null?c:location.search.includes("stylex-slow");this.supportsVariables=(c=a.supportsVariables)!=null?c:k();this.$1=b("Locale").isRTL()}var c=a.prototype;c.isHeadless=function(){return this.tag==null||!b("ExecutionEnvironment").canUseDOM};c.getTag=function(){var a=this.tag;a!=null||g(0,11103);return a};c.getCSS=function(){return this.rules.join("\n")};c.getRulePosition=function(a){return this.rules.indexOf(a)};c.getRuleCount=function(){return this.rules.length};c.inject=function(a){if(this.injected)return;this.injected=!0;if(!b("ExecutionEnvironment").canUseDOM){this.injectTheme();return}this.tag=j();this.injectTheme()};c.injectTheme=function(){this.rootTheme!=null&&this.insert(i(":root",this.rootTheme),0),this.rootDarkTheme!=null&&this.insert(i("."+h+":root",this.rootDarkTheme),0)};c.__injectCustomThemeForTesting=function(a,b){b!=null&&this.insert(i(a,b),0)};c["delete"]=function(a){__p&&__p();var b=this.rules.indexOf(a);b>=0||g(0,2656,a);this.rules.splice(b,1);if(this.isHeadless())return;a=this.getTag();if(this.isSlow)a.removeChild(a.childNodes[b+1]);else{a=a.sheet;a||g(0,2657);a.deleteRule(b)}};c.normalizeRule=function(a){var b=this.rootTheme;return this.supportsVariables||b==null?a:a.replace(l,function(a,c){return b[c]})};c.getInsertPositionForPriority=function(a){__p&&__p();var b=this.ruleForPriority.get(a);if(b!=null)return this.rules.indexOf(b)+1;b=Array.from(this.ruleForPriority.keys()).sort(function(a,b){return b-a}).filter(function(b){return b>a?1:0});if(b.length===0)return this.getRuleCount();b=b.pop();return this.rules.indexOf(this.ruleForPriority.get(b))};c.insert=function(a,b,c){__p&&__p();this.injected===!1&&this.inject();c=this.$1&&c!=null?c:a;if(this.rules.includes(c))return;a=this.normalizeRule(c);c=this.getInsertPositionForPriority(b);this.rules.splice(c,0,a);this.ruleForPriority.set(b,a);if(this.isHeadless())return;b=this.getTag();if(this.isSlow){var d=document.createTextNode(a);b.insertBefore(d,b.childNodes[c])}else{d=b.sheet;if(d!=null)try{d.insertRule(a,c)}catch(a){}}};return a}();a.DARK_MODE_CLASS_NAME=h;e.exports=a}),null);